  <div class="jumbotron">
    <div class="row">
        <div class="col">
            <div class="mx-auto w-50 p-3 bg-dark text-white text-center">
                <h1>Registering Users</h1>
            </div>
        </div>
    </div>
  </div>
  <div class="container">
      <div class="mx-auto w-50 text-center">
          <div class="row">
            <ng-template [ngIf]='message != "" ' >
              <div class="alert alert-success" role="alert" *ngIf="valid==true">
                  {{message}}<br>
              </div>
              <div class="alert alert-danger" role="alert" *ngIf="valid==false">
                  {{message}}<br>
              </div>    
            </ng-template>  
          </div>
        </div>
      </div>
  <div class="container">
    <div class="row">
      <!--(click)="whenPressed()"-->
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#takePicture" (click)='this.showWebcam = true;' >
            Take a picture
        </button>
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#uploadImage">
            Upload an image
        </button>
    <!-- Modal -->
<div class="modal fade" id="takePicture" tabindex="-1" role="dialog" aria-labelledby="takePicture" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Take a picture</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <div id="app">
               
                <!-- <div><video #video id="video" capture="camera" width="440" height="440" autoplay></video></div> -->
                 <!-- <canvas #canvas id="canvas" width="440" height="440"></canvas>  -->
                <!-- <input type="file" capture="camera" accept="image/*" #camera name="cameraInput"> -->
                <div class="mx-auto w-50">
                    <webcam [height]="400" [width]="400" [trigger]="triggerObservable" (imageCapture)="handleImage($event,NameSnap.value,SurnameSnap.value,TitleSnap.value,EmailSnap.value)" *ngIf="showWebcam"
                    [videoOptions]="videoOptions"
                    [imageQuality]="1"
                    (initError)="handleInitError($event)"
                     ></webcam>
                <input #NameSnap  type="text" placeholder="Name" >
                    <input #SurnameSnap  type="text" placeholder="Surname">
                    <input #EmailSnap  type="email" placeholder="Email" >
                    <select #TitleSnap>
                        <option selected disabled>Choose one</option>
                        <option value="Mr">Mr</option>
                        <option value="Mrs">Mrs</option>
                        <option value="Ms">Ms</option>
                        <option value="Apache Helicopter">Apache Helicopter</option>
                    </select><br>
                <div><button id="snap" (click)="triggerSnapshot()">Snap Photo</button></div>
                <!-- <div class="snapshot" *ngIf="webcamImage">
                    <img [src]="webcamImage.imageAsDataUrl"/>
                  </div> -->
                </div>
           </div> 
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" (click)='this.showWebcam = false;'>Save changes</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal -->
<div class="modal fade" id="uploadImage" tabindex="-1" role="dialog" aria-labelledby="uploadImage" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Upload an image</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <div class="mx-auto w-50">
                <label class="image-upload-container btn btn-bwm">
                    <input #imageInput  type="file" accept="image/*" >
                    <input #Name  type="text" placeholder="Name" >
                    <input #Surname  type="text" placeholder="Surname">
                    <input #Email  type="email" placeholder="Email" >
                    <select #Title>
                        <option selected disabled>Choose one</option>
                        <option value="Mr">Mr</option>
                        <option value="Mrs">Mrs</option>
                        <option value="Ms">Ms</option>
                        <option value="Apache Helicopter">Apache Helicopter</option>
                    </select><br>
                    <input type="submit" (click) ="processFile(imageInput,Name.value,Surname.value,Title.value,Email.value)">
                </label>
            </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>
    </div>
  </div>

